[gd_scene load_steps=38 format=3 uid="uid://c45yshfpwq7cn"]

[ext_resource type="Script" path="res://scripts/x_wing.gd" id="1_blneg"]
[ext_resource type="Texture2D" uid="uid://bkewuaqp6udo7" path="res://assets/sprites/x-wing-pixel-trans-Sheet.png" id="1_e1aqt"]
[ext_resource type="Texture2D" uid="uid://c6x8f47kbg2ef" path="res://assets/pictures/x-wing-pixel-trans.png" id="1_xnfx3"]
[ext_resource type="Shader" path="res://assets/shader/swapper.gdshader" id="2_s4u1k"]
[ext_resource type="Shader" path="res://assets/shader/shield.gdshader" id="5_75r88"]
[ext_resource type="AudioStream" uid="uid://cmstmjnghc8ef" path="res://assets/soundeffects/laser-shot-ingame-230500.mp3" id="6_gt16y"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0ptwy"]
shader = ExtResource("2_s4u1k")
shader_parameter/pal_source_1 = Color(0.305882, 0.25098, 0.192157, 1)
shader_parameter/pal_source_2 = Color(0.447059, 0.423529, 0.415686, 1)
shader_parameter/pal_swap_1 = Color(0.305882, 0.25098, 0.192157, 1)
shader_parameter/pal_swap_2 = Color(0.447059, 0.423529, 0.415686, 1)

[sub_resource type="AtlasTexture" id="AtlasTexture_a7hrp"]
atlas = ExtResource("1_e1aqt")
region = Rect2(384, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_qc23m"]
atlas = ExtResource("1_e1aqt")
region = Rect2(256, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_mnel2"]
atlas = ExtResource("1_e1aqt")
region = Rect2(128, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_kc5ol"]
atlas = ExtResource("1_e1aqt")
region = Rect2(0, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_auygt"]
atlas = ExtResource("1_e1aqt")
region = Rect2(384, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_au7fu"]
atlas = ExtResource("1_e1aqt")
region = Rect2(256, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_0plju"]
atlas = ExtResource("1_e1aqt")
region = Rect2(128, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_xdtgi"]
atlas = ExtResource("1_e1aqt")
region = Rect2(0, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_plfw1"]
atlas = ExtResource("1_xnfx3")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_xd0o1"]
atlas = ExtResource("1_e1aqt")
region = Rect2(0, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_4dd3n"]
atlas = ExtResource("1_e1aqt")
region = Rect2(128, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_3wacw"]
atlas = ExtResource("1_e1aqt")
region = Rect2(256, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_hwcl5"]
atlas = ExtResource("1_e1aqt")
region = Rect2(384, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_rig5j"]
atlas = ExtResource("1_e1aqt")
region = Rect2(512, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_t1o5x"]
atlas = ExtResource("1_e1aqt")
region = Rect2(0, 512, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_7y2eo"]
atlas = ExtResource("1_e1aqt")
region = Rect2(128, 512, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_0vcbp"]
atlas = ExtResource("1_e1aqt")
region = Rect2(256, 512, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_4u6wg"]
atlas = ExtResource("1_e1aqt")
region = Rect2(384, 512, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_pekuh"]
atlas = ExtResource("1_e1aqt")
region = Rect2(512, 512, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_bs210"]
atlas = ExtResource("1_e1aqt")
region = Rect2(0, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_lmybp"]
atlas = ExtResource("1_e1aqt")
region = Rect2(128, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_ebmyv"]
atlas = ExtResource("1_e1aqt")
region = Rect2(256, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_rsoit"]
atlas = ExtResource("1_e1aqt")
region = Rect2(384, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_6hcpc"]
atlas = ExtResource("1_e1aqt")
region = Rect2(0, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_wrecn"]
atlas = ExtResource("1_e1aqt")
region = Rect2(128, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_jm72u"]
atlas = ExtResource("1_e1aqt")
region = Rect2(256, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_d4jwp"]
atlas = ExtResource("1_e1aqt")
region = Rect2(384, 384, 128, 128)

[sub_resource type="SpriteFrames" id="SpriteFrames_4w6bu"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_a7hrp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qc23m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mnel2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kc5ol")
}],
"loop": false,
"name": &"backtilt_leftToIdle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_auygt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_au7fu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0plju")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xdtgi")
}],
"loop": false,
"name": &"backtilt_rightToIdle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_plfw1")
}],
"loop": true,
"name": &"base",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xd0o1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4dd3n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3wacw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hwcl5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rig5j")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_t1o5x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7y2eo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0vcbp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4u6wg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pekuh")
}],
"loop": true,
"name": &"moving_up",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bs210")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lmybp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ebmyv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rsoit")
}],
"loop": false,
"name": &"tilt_left",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6hcpc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wrecn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jm72u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d4jwp")
}],
"loop": false,
"name": &"tilt_right",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_udm81"]
size = Vector2(114, 110)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5bvdi"]
shader = ExtResource("5_75r88")
shader_parameter/angle = 4.75
shader_parameter/spread_angle = 3.14159
shader_parameter/progress = 1.0
shader_parameter/border_energy_offset = 0.069
shader_parameter/color = Color(0.227362, 0.337198, 0.786713, 1)
shader_parameter/edges_color = Color(0.526395, 0.566108, 0.222286, 1)
shader_parameter/edges_valueable = 0.0
shader_parameter/edges_fade = 1.0

[node name="x-wing" type="CharacterBody2D" groups=["spaceships"]]
z_index = 2
position = Vector2(960, 977)
scale = Vector2(1.7, 1.7)
collision_mask = 10
script = ExtResource("1_blneg")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_0ptwy")
sprite_frames = SubResource("SpriteFrames_4w6bu")
animation = &"idle"
autoplay = "idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -7.00006)
shape = SubResource("RectangleShape2D_udm81")
debug_color = Color(0, 0.6, 0.701961, 0)

[node name="shield" type="ColorRect" parent="."]
z_index = 11
material = SubResource("ShaderMaterial_5bvdi")
offset_left = -85.8823
offset_top = -79.4118
offset_right = 84.1177
offset_bottom = 148.588
color = Color(0.734454, 0.0355619, 0.0197759, 1)

[node name="invisibility_timer_x" type="Timer" parent="."]
one_shot = true

[node name="Area2D" type="Area2D" parent="."]

[node name="marker_left" type="Marker2D" parent="."]
position = Vector2(-48.2353, -64.1176)

[node name="marker_right" type="Marker2D" parent="."]
position = Vector2(47.6471, -64.1177)

[node name="fire_delay_timer" type="Timer" parent="."]
one_shot = true

[node name="laser_sfx" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_gt16y")

[connection signal="timeout" from="invisibility_timer_x" to="." method="_on_invisibility_timer_x_timeout"]
[connection signal="area_entered" from="Area2D" to="." method="_on_area_2d_area_entered"]
